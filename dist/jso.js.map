{"version":3,"sources":["webpack://jso/webpack/universalModuleDefinition","webpack://jso/./src/Config.js","webpack://jso/./src/EventEmitter.js","webpack://jso/./src/HTTP/Fetcher.js","webpack://jso/./src/HTTP/FetcherJQuery.js","webpack://jso/./src/Loaders/BasicLoader.js","webpack://jso/./src/Loaders/HTTPRedirect.js","webpack://jso/./src/Loaders/IFrameActive.js","webpack://jso/./src/Loaders/IFramePassive.js","webpack://jso/./src/Loaders/Popup.js","webpack://jso/./src/errors/Error.js","webpack://jso/./src/errors/ExpiredTokenError.js","webpack://jso/./src/errors/OAuthResponseError.js","webpack://jso/./src/store.js","webpack://jso/./src/utils.js","webpack://jso/./node_modules/core-js/es/object/assign.js","webpack://jso/./node_modules/core-js/features/object/assign.js","webpack://jso/./node_modules/core-js/internals/a-function.js","webpack://jso/./node_modules/core-js/internals/a-possible-prototype.js","webpack://jso/./node_modules/core-js/internals/add-to-unscopables.js","webpack://jso/./node_modules/core-js/internals/an-instance.js","webpack://jso/./node_modules/core-js/internals/an-object.js","webpack://jso/./node_modules/core-js/internals/array-includes.js","webpack://jso/./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack://jso/./node_modules/core-js/internals/classof-raw.js","webpack://jso/./node_modules/core-js/internals/classof.js","webpack://jso/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://jso/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://jso/./node_modules/core-js/internals/create-iterator-constructor.js","webpack://jso/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://jso/./node_modules/core-js/internals/create-property-descriptor.js","webpack://jso/./node_modules/core-js/internals/define-iterator.js","webpack://jso/./node_modules/core-js/internals/descriptors.js","webpack://jso/./node_modules/core-js/internals/document-create-element.js","webpack://jso/./node_modules/core-js/internals/dom-iterables.js","webpack://jso/./node_modules/core-js/internals/engine-is-ios.js","webpack://jso/./node_modules/core-js/internals/engine-is-node.js","webpack://jso/./node_modules/core-js/internals/engine-is-webos-webkit.js","webpack://jso/./node_modules/core-js/internals/engine-user-agent.js","webpack://jso/./node_modules/core-js/internals/engine-v8-version.js","webpack://jso/./node_modules/core-js/internals/enum-bug-keys.js","webpack://jso/./node_modules/core-js/internals/export.js","webpack://jso/./node_modules/core-js/internals/fails.js","webpack://jso/./node_modules/core-js/internals/function-bind-context.js","webpack://jso/./node_modules/core-js/internals/get-built-in.js","webpack://jso/./node_modules/core-js/internals/get-iterator-method.js","webpack://jso/./node_modules/core-js/internals/global.js","webpack://jso/./node_modules/core-js/internals/has.js","webpack://jso/./node_modules/core-js/internals/hidden-keys.js","webpack://jso/./node_modules/core-js/internals/host-report-errors.js","webpack://jso/./node_modules/core-js/internals/html.js","webpack://jso/./node_modules/core-js/internals/ie8-dom-define.js","webpack://jso/./node_modules/core-js/internals/indexed-object.js","webpack://jso/./node_modules/core-js/internals/inspect-source.js","webpack://jso/./node_modules/core-js/internals/internal-state.js","webpack://jso/./node_modules/core-js/internals/is-array-iterator-method.js","webpack://jso/./node_modules/core-js/internals/is-forced.js","webpack://jso/./node_modules/core-js/internals/is-object.js","webpack://jso/./node_modules/core-js/internals/is-pure.js","webpack://jso/./node_modules/core-js/internals/iterate.js","webpack://jso/./node_modules/core-js/internals/iterator-close.js","webpack://jso/./node_modules/core-js/internals/iterators-core.js","webpack://jso/./node_modules/core-js/internals/iterators.js","webpack://jso/./node_modules/core-js/internals/microtask.js","webpack://jso/./node_modules/core-js/internals/native-promise-constructor.js","webpack://jso/./node_modules/core-js/internals/native-symbol.js","webpack://jso/./node_modules/core-js/internals/native-weak-map.js","webpack://jso/./node_modules/core-js/internals/new-promise-capability.js","webpack://jso/./node_modules/core-js/internals/object-assign.js","webpack://jso/./node_modules/core-js/internals/object-create.js","webpack://jso/./node_modules/core-js/internals/object-define-properties.js","webpack://jso/./node_modules/core-js/internals/object-define-property.js","webpack://jso/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://jso/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://jso/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://jso/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://jso/./node_modules/core-js/internals/object-keys-internal.js","webpack://jso/./node_modules/core-js/internals/object-keys.js","webpack://jso/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://jso/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://jso/./node_modules/core-js/internals/object-to-string.js","webpack://jso/./node_modules/core-js/internals/own-keys.js","webpack://jso/./node_modules/core-js/internals/path.js","webpack://jso/./node_modules/core-js/internals/perform.js","webpack://jso/./node_modules/core-js/internals/promise-resolve.js","webpack://jso/./node_modules/core-js/internals/redefine-all.js","webpack://jso/./node_modules/core-js/internals/redefine.js","webpack://jso/./node_modules/core-js/internals/require-object-coercible.js","webpack://jso/./node_modules/core-js/internals/set-global.js","webpack://jso/./node_modules/core-js/internals/set-species.js","webpack://jso/./node_modules/core-js/internals/set-to-string-tag.js","webpack://jso/./node_modules/core-js/internals/shared-key.js","webpack://jso/./node_modules/core-js/internals/shared-store.js","webpack://jso/./node_modules/core-js/internals/shared.js","webpack://jso/./node_modules/core-js/internals/species-constructor.js","webpack://jso/./node_modules/core-js/internals/string-multibyte.js","webpack://jso/./node_modules/core-js/internals/task.js","webpack://jso/./node_modules/core-js/internals/to-absolute-index.js","webpack://jso/./node_modules/core-js/internals/to-indexed-object.js","webpack://jso/./node_modules/core-js/internals/to-integer.js","webpack://jso/./node_modules/core-js/internals/to-length.js","webpack://jso/./node_modules/core-js/internals/to-object.js","webpack://jso/./node_modules/core-js/internals/to-primitive.js","webpack://jso/./node_modules/core-js/internals/to-string-tag-support.js","webpack://jso/./node_modules/core-js/internals/uid.js","webpack://jso/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://jso/./node_modules/core-js/internals/well-known-symbol.js","webpack://jso/./node_modules/core-js/modules/es.aggregate-error.js","webpack://jso/./node_modules/core-js/modules/es.array.includes.js","webpack://jso/./node_modules/core-js/modules/es.array.iterator.js","webpack://jso/./node_modules/core-js/modules/es.object.assign.js","webpack://jso/./node_modules/core-js/modules/es.object.to-string.js","webpack://jso/./node_modules/core-js/modules/es.promise.all-settled.js","webpack://jso/./node_modules/core-js/modules/es.promise.any.js","webpack://jso/./node_modules/core-js/modules/es.promise.finally.js","webpack://jso/./node_modules/core-js/modules/es.promise.js","webpack://jso/./node_modules/core-js/modules/es.string.iterator.js","webpack://jso/./node_modules/core-js/modules/esnext.aggregate-error.js","webpack://jso/./node_modules/core-js/modules/esnext.promise.all-settled.js","webpack://jso/./node_modules/core-js/modules/esnext.promise.any.js","webpack://jso/./node_modules/core-js/modules/esnext.promise.try.js","webpack://jso/./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack://jso/webpack/bootstrap","webpack://jso/webpack/runtime/compat get default export","webpack://jso/webpack/runtime/define property getters","webpack://jso/webpack/runtime/global","webpack://jso/webpack/runtime/hasOwnProperty shorthand","webpack://jso/webpack/runtime/make namespace object","webpack://jso/./src/JSO.js"],"names":["Config","config","i","arguments","length","Object","assign","key","pointer","splittedKeys","split","hasOwnProperty","defaultValue","isRequired","undefined","Error","EventEmitter","type","callback","_callbacks","push","args","Array","prototype","slice","call","apply","Fetcher","jso","url","opts","fetch","then","response","status","ExpiredTokenError","reccur","getTokenOpts","fetchOpts","getToken","catch","err","console","error","token","headers","Authorization","access_token","_fetch","wipeTokens","FetcherJQuery","jquery","Promise","resolve","reject","done","fail","jqXHR","textStatus","errorThrown","parseInt","ajax","BasicLoader","log","HTTPRedirect","window","location","IFrameActive","theIframe","document","getElementById","doIframeLoad","oWin","contentWindow","postMessage","origin","e","addEventListener","messageReceiver","event","data","toString","indexOf","setAttribute","focus","IFramePassive","timeout","isCompleted","id","utils","eventMethod","eventer","messageEvent","iframe","createElement","object","hash","encodedHash","substring","search","_completed","_failed","errorCallback","getElementsByTagName","appendChild","setTimeout","element","parentNode","removeChild","_cleanup","Popup","popupCompleted","newwindow","href","open","props","value","OAuthResponseError","header","descr","error_description","Store","state","obj","localStorage","setItem","JSON","stringify","parse","getItem","removeItem","scope","scopes","tokens","j","result","now","usethis","expires","hasScope","provider","getTokens","filterTokens","saveTokens","s","epoch","Math","round","Date","getTime","debug","uuid","replace","c","r","random","v","getResponseFromURL","parseQueryString","qs","a","d","decodeURIComponent","q","urlParams","exec","scopeList","uniqueList","join","items","uniqueItems","resultItems","msg","unshift","encodeQS","params","res","k","encodeURIComponent","encodeURL","firstSeparator","sha256Hash","str","crypto","subtle","digest","TextEncoder","encode","encode64","buff","btoa","Uint8Array","reduce","b","String","fromCharCode","base64UrlSafeEncode","buf","getCodeChallenge","code_verifier","hashed","finally","package_json","require","default_config","JSO","configure","connector_name","getconnector_name","Loader","store","callbacks","getValue","newstore","loader","client_id","authorization","atoken","getState","processReceivedToken","received","expires_in","has","saveToken","restoreHash","emit","Headers","append","tokenRequest","code","redirect_uri","mode","method","body","httpResponse","json","tokenResponse","processTokenResponse","processAuthorizationCodeResponse","processErrorResponse","x","request","scopesRequire","_getRequiredScopes","allowredir","_authorize","authurl","bUsePKCE","saveState","gotoAuthorizeURL","openid","response_type","_getRequestScopes","includes","nonce","cv","getRandomValues","cc","code_challenge","code_challenge_method","_authorize2","execute"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AClCA,gBAAgB,mBAAO,CAAC,6FAAgC;;AAExD;;;;;;;;;;;ACFA,cAAc,mBAAO,CAAC,iFAA0B;AAChD,aAAa,mBAAO,CAAC,uEAAqB;;AAE1C;;;;;;;;;;;ACHA,gBAAgB,mBAAO,CAAC,6FAAgC;;AAExD;;;;;;;;;;;ACFA,iBAAiB,mBAAO,CAAC,mFAA2B;;AAEpD;;;;;;;;;;;ACFA,aAAa,mBAAO,CAAC,uEAAqB;AAC1C,gBAAgB,mBAAO,CAAC,6FAAgC;;AAExD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACTA,aAAa,mBAAO,CAAC,uEAAqB;AAC1C,+BAA+B,sJAA4D;AAC3F,kCAAkC,mBAAO,CAAC,uHAA6C;AACvF,eAAe,mBAAO,CAAC,2EAAuB;AAC9C,gBAAgB,mBAAO,CAAC,+EAAyB;AACjD,gCAAgC,mBAAO,CAAC,iHAA0C;AAClF,eAAe,mBAAO,CAAC,6EAAwB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,mDAAmD;AACnD,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACrDA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;ACNA,gBAAgB,mBAAO,CAAC,+EAAyB;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACvBA,WAAW,mBAAO,CAAC,mEAAmB;AACtC,aAAa,mBAAO,CAAC,uEAAqB;;AAE1C;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;ACVA,cAAc,mBAAO,CAAC,yEAAsB;AAC5C,gBAAgB,mBAAO,CAAC,6EAAwB;AAChD,sBAAsB,mBAAO,CAAC,6FAAgC;;AAE9D;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACVA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAM,gBAAgB,qBAAM;AAC3C;AACA,gBAAgB,aAAa,EAAE;;;;;;;;;;;ACb/B,uBAAuB;;AAEvB;AACA;AACA;;;;;;;;;;;ACJA;;;;;;;;;;;ACAA,aAAa,mBAAO,CAAC,uEAAqB;;AAE1C;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACPA,iBAAiB,mBAAO,CAAC,mFAA2B;;AAEpD;;;;;;;;;;;ACFA,kBAAkB,mBAAO,CAAC,iFAA0B;AACpD,YAAY,mBAAO,CAAC,qEAAoB;AACxC,oBAAoB,mBAAO,CAAC,yGAAsC;;AAElE;AACA;AACA;AACA;AACA,sBAAsB,UAAU;AAChC,GAAG;AACH,CAAC;;;;;;;;;;;ACVD,YAAY,mBAAO,CAAC,qEAAoB;AACxC,cAAc,mBAAO,CAAC,iFAA0B;;AAEhD;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;;;;;;;;;;;ACZD,YAAY,mBAAO,CAAC,mFAA2B;;AAE/C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACXA,sBAAsB,mBAAO,CAAC,yFAA8B;AAC5D,aAAa,mBAAO,CAAC,uEAAqB;AAC1C,eAAe,mBAAO,CAAC,6EAAwB;AAC/C,kCAAkC,mBAAO,CAAC,uHAA6C;AACvF,gBAAgB,mBAAO,CAAC,iEAAkB;AAC1C,aAAa,mBAAO,CAAC,mFAA2B;AAChD,gBAAgB,mBAAO,CAAC,+EAAyB;AACjD,iBAAiB,mBAAO,CAAC,iFAA0B;;AAEnD;AACA;;AAEA;AACA,uCAAuC;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC/DA,sBAAsB,mBAAO,CAAC,6FAAgC;AAC9D,gBAAgB,mBAAO,CAAC,6EAAwB;;AAEhD;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;ACTA,YAAY,mBAAO,CAAC,qEAAoB;;AAExC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA;AACA;AACA;;;;;;;;;;;ACFA;;;;;;;;;;;ACAA,eAAe,mBAAO,CAAC,6EAAwB;AAC/C,4BAA4B,mBAAO,CAAC,2GAAuC;AAC3E,eAAe,mBAAO,CAAC,6EAAwB;AAC/C,WAAW,mBAAO,CAAC,qGAAoC;AACvD,wBAAwB,mBAAO,CAAC,iGAAkC;AAClE,oBAAoB,mBAAO,CAAC,uFAA6B;;AAEzD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,yDAAyD,gBAAgB;AACzE;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;ACzDA,eAAe,mBAAO,CAAC,6EAAwB;;AAE/C;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPa;AACb,YAAY,mBAAO,CAAC,qEAAoB;AACxC,qBAAqB,mBAAO,CAAC,yGAAsC;AACnE,kCAAkC,mBAAO,CAAC,uHAA6C;AACvF,UAAU,mBAAO,CAAC,iEAAkB;AACpC,sBAAsB,mBAAO,CAAC,6FAAgC;AAC9D,cAAc,mBAAO,CAAC,yEAAsB;;AAE5C;AACA;;AAEA,8BAA8B,aAAa;;AAE3C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;AC5CA;;;;;;;;;;;ACAA,aAAa,mBAAO,CAAC,uEAAqB;AAC1C,+BAA+B,sJAA4D;AAC3F,gBAAgB,4FAAgC;AAChD,aAAa,mBAAO,CAAC,qFAA4B;AACjD,sBAAsB,mBAAO,CAAC,uGAAqC;AACnE,cAAc,mBAAO,CAAC,uFAA6B;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+CAA+C,sBAAsB;AACrE;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;AC/EA,aAAa,mBAAO,CAAC,uEAAqB;;AAE1C;;;;;;;;;;;ACFA,cAAc,mBAAO,CAAC,uFAA6B;AACnD,iBAAiB,mBAAO,CAAC,6FAAgC;AACzD,YAAY,mBAAO,CAAC,qEAAoB;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;ACXD,aAAa,mBAAO,CAAC,uEAAqB;AAC1C,oBAAoB,mBAAO,CAAC,uFAA6B;;AAEzD;;AAEA;;;;;;;;;;;;ACLa;AACb,gBAAgB,mBAAO,CAAC,+EAAyB;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;;;;;;;;;;;;ACjBa;AACb,kBAAkB,mBAAO,CAAC,iFAA0B;AACpD,YAAY,mBAAO,CAAC,qEAAoB;AACxC,iBAAiB,mBAAO,CAAC,iFAA0B;AACnD,kCAAkC,mBAAO,CAAC,yHAA8C;AACxF,iCAAiC,mBAAO,CAAC,qHAA4C;AACrF,eAAe,mBAAO,CAAC,6EAAwB;AAC/C,oBAAoB,mBAAO,CAAC,uFAA6B;;AAEzD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA8B,OAAO,2BAA2B;AAChE;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG,IAAI,OAAO;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,cAAc,EAAE;AAC7D,mBAAmB,0CAA0C;AAC7D,CAAC,qCAAqC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;ACrDD,eAAe,mBAAO,CAAC,6EAAwB;AAC/C,uBAAuB,mBAAO,CAAC,2GAAuC;AACtE,kBAAkB,mBAAO,CAAC,qFAA4B;AACtD,iBAAiB,mBAAO,CAAC,iFAA0B;AACnD,WAAW,mBAAO,CAAC,mEAAmB;AACtC,4BAA4B,mBAAO,CAAC,yGAAsC;AAC1E,gBAAgB,mBAAO,CAAC,+EAAyB;;AAEjD;AACA;AACA;AACA;AACA;;AAEA,oCAAoC;;AAEpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,gBAAgB;AACnB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;AC7EA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AAyB;AACjD,6BAA6B,mBAAO,CAAC,2GAAuC;;AAE5E,sBAAsB,kBAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC1BA,aAAa,mBAAO,CAAC,uEAAqB;AAC1C,YAAY,mBAAO,CAAC,qEAAoB;AACxC,WAAW,mBAAO,CAAC,qGAAoC;AACvD,WAAW,mBAAO,CAAC,mEAAmB;AACtC,oBAAoB,mBAAO,CAAC,yGAAsC;AAClE,aAAa,mBAAO,CAAC,qFAA4B;AACjD,cAAc,mBAAO,CAAC,uFAA6B;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;AC1GA,gBAAgB,mBAAO,CAAC,+EAAyB;;AAEjD;AACA;;AAEA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;;;;;;;;;;;ACXA;AACA,oBAAoB,mBAAO,CAAC,uFAA6B;AACzD,6BAA6B,mBAAO,CAAC,2GAAuC;;AAE5E;AACA;AACA;;;;;;;;;;;ACNA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACPA,gBAAgB,mBAAO,CAAC,+EAAyB;;AAEjD;;AAEA;AACA;AACA;AACA,uEAAuE;AACvE;;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yBAAyB,mBAAO,CAAC,iGAAkC;AACnE,WAAW,4FAAgC;AAC3C,gBAAgB,mBAAO,CAAC,6EAAwB;AAChD,qBAAqB,mBAAO,CAAC,yFAA8B;AAC3D,uBAAuB,mBAAO,CAAC,+FAAiC;AAChE,iCAAiC,mBAAO,CAAC,uGAAqC;AAC9E,cAAc,mBAAO,CAAC,yEAAsB;AAC5C,0BAA0B,mBAAO,CAAC,uFAA6B;AAC/D,eAAe,mBAAO,CAAC,6EAAwB;AAC/C,sBAAsB,mBAAO,CAAC,6FAAgC;AAC9D,cAAc,mBAAO,CAAC,uFAA6B;AACnD,iBAAiB,mBAAO,CAAC,6FAAgC;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc,eAAe,cAAc;AACjE;AACA;AACA;AACA,qCAAqC,cAAc;AACnD,CAAC;;AAED;AACA,yDAAyD,cAAc;AACvE,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,eAAe;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH,oBAAoB,cAAc;AAClC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK,GAAG,eAAe;;AAEvB;AACA,wCAAwC,+CAA+C;AACvF;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,GAAG,2CAA2C;AAC9C;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA,GAAG,8CAA8C;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,GAAG,yDAAyD;AAC5D;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,GAAG,2DAA2D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AC5XY;AACb,aAAa,uHAA+C;AAC5D,0BA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","file":"jso.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jso\"] = factory();\n\telse\n\t\troot[\"jso\"] = factory();\n})(self, function() {\nreturn ","export default class Config {\n\n\tconstructor() {\n    this.config = {}\n\t\tfor(var i = 0; i < arguments.length; i++) {\n      Object.assign(this.config, arguments[i])\n\t\t}\n\t}\n\n\thas(key) {\n\t\tvar pointer = this.config\n\t\tvar splittedKeys = key.split('.')\n\t\tvar i = 0\n\t\tfor(i = 0; i < splittedKeys.length; i++) {\n\t\t\tif (pointer.hasOwnProperty(splittedKeys[i])) {\n\t\t\t\tpointer = pointer[splittedKeys[i]]\n\t\t\t} else {\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\treturn true\n\t}\n\n\tgetValue(key, defaultValue, isRequired) {\n\t\tvar isRequired = isRequired || false\n\t\tvar pointer = this.config\n\t\tvar splittedKeys = key.split('.')\n\t\tvar i = 0\n\t\tfor(i = 0; i < splittedKeys.length; i++) {\n\n\t\t\tif (pointer.hasOwnProperty(splittedKeys[i])) {\n\t\t\t\t// console.log(\"POINTING TO \" + splittedKeys[i]);\n\t\t\t\tpointer = pointer[splittedKeys[i]]\n\t\t\t} else {\n\t\t\t\tpointer = undefined\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tif (typeof pointer === 'undefined') {\n\t\t\tif (isRequired) {\n\t\t\t\tthrow new Error(\"Configuration option [\" + splittedKeys[i] + \"] required but not provided.\")\n\t\t\t}\n\t\t\treturn defaultValue\n\t\t}\n\t\treturn pointer\n\t}\n}\n","export default class EventEmitter {\n\n  on(type, callback) {\n    if (!this._callbacks) {\n      this._callbacks = {}\n    }\n    if (!this._callbacks[type]) {\n      this._callbacks[type] = []\n    }\n\n    this._callbacks[type].push(callback)\n  }\n\n  emit(type) {\n    if (!this._callbacks) {\n      this._callbacks = {}\n    }\n    if (!this._callbacks[type]) {\n      this._callbacks[type] = []\n    }\n\n    var args = Array.prototype.slice.call(arguments, 1)\n    for(var i = 0; i < this._callbacks[type].length; i++) {\n      this._callbacks[type][i].apply(this, args)\n    }\n  }\n}\n","\nimport ExpiredTokenError from '../errors/ExpiredTokenError'\n\nexport default class Fetcher {\n\tconstructor(jso) {\n    this.jso = jso\n\t}\n\n  _fetch(url, opts) {\n    return fetch(url, opts)\n      .then((response) => {\n        if (response.status === 401) {\n          throw new ExpiredTokenError()\n        }\n        return response\n      })\n  }\n\n\tfetch(url, opts, reccur) {\n    reccur = reccur ? reccur : 0\n    if (reccur > 2) {\n      throw new Error(\"Reccursion error. Expired tokens deleted and tried again multiple times.\")\n    }\n    let getTokenOpts = {}\n    let fetchOpts = {\n      'mode': 'cors'\n    }\n    if (opts) {\n      fetchOpts = opts\n      Object.assign(fetchOpts, opts)\n    }\n    if (opts && opts.jso) {\n      Object.assign(getTokenOpts, opts.jso)\n    }\n\n    return this.jso.getToken(getTokenOpts)\n      .catch((err) => {\n        console.error(\"Error fetching token to use \", err)\n      })\n      .then((token) => {\n      \t// console.log(\"I got the token: \", token.access_token)\n\n        if (!fetchOpts.headers) {\n          fetchOpts.headers = {}\n        }\n        fetchOpts.headers.Authorization = 'Bearer ' + token.access_token\n        return this._fetch(url, fetchOpts)\n          .catch((err) => {\n            if (err instanceof ExpiredTokenError) {\n              console.error(\"Token was expired. Deleting all tokens for this provider and get a new one\", err)\n              this.jso.wipeTokens()\n              return this.fetch(url, opts, reccur+1)\n            }\n          })\n\n      })\n\t}\n\n\n\n}\n","import ExpiredTokenError from '../errors/ExpiredTokenError'\n\nexport default class FetcherJQuery {\n\tconstructor(jso, jquery) {\n    this.jso = jso\n    this.jquery = jquery\n\t}\n\n  _fetch(url, opts) {\n\n    return new Promise((resolve, reject) => {\n\n      opts.done = resolve\n      opts.fail = (jqXHR, textStatus, errorThrown) => {\n        let status = parseInt(textStatus, 10)\n        if (status === 401) {\n          this.jso.wipeTokens()\n          return reject(new ExpiredTokenError())\n        }\n        return reject(errorThrown)\n      }\n      return this.jquery.ajax(url, opts)\n\n    })\n\n  }\n\n\tfetch(url, opts, reccur) {\n    reccur = reccur ? reccur : 0\n    if (reccur > 2) {\n      throw new Error(\"Reccursion error. Expired tokens deleted and tried again multiple times.\")\n    }\n    let getTokenOpts = {}\n    let fetchOpts = {\n      'mode': 'cors'\n    }\n    if (opts) {\n      fetchOpts = opts\n      Object.assign(fetchOpts, opts)\n    }\n    if (opts && opts.jso) {\n      Object.assign(getTokenOpts, opts.jso)\n    }\n\n    return this.jso.getToken(getTokenOpts)\n      .catch((err) => {\n        console.error(\"Error fetching token to use \", err)\n      })\n      .then((token) => {\n      \t// console.log(\"I got the token: \", token.access_token)\n\n        if (!fetchOpts.headers) {\n          fetchOpts.headers = {}\n        }\n        fetchOpts.headers.Authorization = 'Bearer ' + token.access_token\n        return this._fetch(url, fetchOpts)\n          .catch((err) => {\n            if (err instanceof ExpiredTokenError) {\n              console.error(\"Token was expired. Deleting all tokens for this provider and get a new one\", err)\n              this.jso.wipeTokens()\n              return this.fetch(url, opts, reccur+1)\n            }\n          })\n\n      })\n\t}\n\n\n\n}\n","export default class BasicLoader {\n\tconstructor(url) {\n\t\tconsole.log(\"Initializing a loader with url \" + url)\n\t\tthis.url = url\n\t}\n\texecute() {\n\n\t}\n}\n","import BasicLoader from './BasicLoader'\nimport utils from '../utils'\n\nexport default class HTTPRedirect extends BasicLoader {\n\texecute() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\twindow.location = this.url\n\t\t})\n\t}\n}\n","import BasicLoader from './BasicLoader'\nimport utils from '../utils'\n\nexport default class IFrameActive extends BasicLoader {\n\n  execute() {\n\n\t  return new Promise((resolve, reject) => {\n\n      /*\n      // Create IE + others compatible event handler\n      var eventMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\"\n      var eventer = window[eventMethod]\n      var messageEvent = eventMethod == \"attachEvent\" ? \"onmessage\" : \"message\"\n      */\n\n      // Using a specific expected name for now.  Would be better if the loader constructor also passed in\n      //  \"opts\" structure, so each loader might add specific initialization properties necessary fo the\n      //  particular loader\n      let theIframe = document.getElementById(\"jsoActiveIframe\");\n\n      function doIframeLoad() {\n        let oWin = theIframe.contentWindow;\n\n          // When page is loaded try to post a message to it to get back the message\n          try {\n            theIframe.contentWindow.postMessage(\"JSO\", window.location.origin);\n          } catch (e) {\n            // do nothing if this window is from a different domain and it fails\n          }\n          // In case we need to send a post message to the loaded iframe window before it\n          // can send us a message\n      }\n\n      theIframe.addEventListener(\"load\", doIframeLoad, true);\n\n\n      let messageReceiver = (event) => {\n        // Check origin\n        if( event.origin != location.origin)\n          return;\n        var url = event.data.toString();\n        if( -1 != url.indexOf(\"?code=\") ) {\n          resolve(url);\n        }\n      };\n\n      // Setup call back function to receive postMessage from page loaded in iframe\n      window.addEventListener(\"message\", messageReceiver, false);\n \n      theIframe.setAttribute(\"src\", this.url);\n\n\n\t\t\tif (window.focus) {\n        if( theIframe.contentWindow ) {\n          theIframe.contentWindow.focus()\n        }\n\t\t\t}\n\n\t\t})\n\t}\n}\n","import BasicLoader from './BasicLoader'\nimport utils from '../utils'\n\nexport default class IFramePassive extends BasicLoader {\n\n\tconstructor(url) {\n\t\tsuper(url)\n\n\t\tthis.timeout = 5000\n\t\tthis.callback = null\n\t\tthis.isCompleted = false\n    this.id = 'jso_passive_iframe_' + utils.uuid()\n\n    // Create IE + others compatible event handler\n    var eventMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\"\n    var eventer = window[eventMethod]\n    var messageEvent = eventMethod == \"attachEvent\" ? \"onmessage\" : \"message\"\n\n    this.iframe = document.createElement('iframe')\n    this.iframe.setAttribute('id', this.id)\n    this.iframe.setAttribute('src', url)\n\n    this.iframe.addEventListener('load', (e) => {\n\n      let object = null\n      try {\n        if (this.iframe.contentWindow.location.hash) {\n          let encodedHash = this.iframe.contentWindow.location.hash.substring(1)\n          object = utils.parseQueryString(encodedHash)\n        } else if (this.iframe.contentWindow.location.search) {\n          let encodedHash = this.iframe.contentWindow.location.search.substring(1)\n          object = utils.parseQueryString(encodedHash)\n        }\n\n        if (object !== null) {\n          this._completed(object)\n        } else {\n          this._failed(new Error(\"Failed to obtain response value from iframe\"))\n        }\n      } catch(err) {\n        // Most likely not able to access the content window because of same-origin policy.\n        //\n        // Ignore this error, as this is likely to happen during the SSO redirect loop, but the load\n        // event may be triggered multiple times, so it is not neccessary a problem that the first is not\n        // accessible.\n      }\n\n    })\n\n\t}\n\n\texecute() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.callback = resolve\n      this.errorCallback = reject\n      document.getElementsByTagName('body')[0].appendChild(this.iframe)\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._failed(new Error(\"Loading iframe timed out\"))\n\t\t\t}, this.timeout)\n\t\t})\n\t}\n\n\n\t_cleanup() {\n    let element = document.getElementById(this.id)\n    element.parentNode.removeChild(element)\n\t}\n\n  _failed(err) {\n    if (!this.isCompleted) {\n\t\t\tif (this.errorCallback && typeof this.errorCallback === 'function') {\n\t\t\t\tthis.errorCallback(err)\n\t\t\t}\n\t\t\tthis.isCompleted = true\n\t\t\tthis._cleanup()\n\t\t}\n  }\n\n\t_completed(response) {\n\t\tif (!this.isCompleted) {\n\t\t\tif (this.callback && typeof this.callback === 'function') {\n\t\t\t\tthis.callback(response)\n\t\t\t}\n\t\t\tthis.isCompleted = true\n\t\t\tthis._cleanup()\n\t\t}\n\t}\n}\n","import BasicLoader from './BasicLoader'\n\nexport default class Popup extends BasicLoader {\n\n  execute() {\n\n\t\t/*\n\t\t* In the popup's scripts, running on <http://example.org>:\n\t\t*/\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\t// window.addEventListener(\"jso_message\", function(event) {\n\t\t\t// \tconsole.log(\"Sent a message to event.origin \" + event.origin + \" and got the following in response:\")\n\t\t\t// \tconsole.log(\"<em>\", event.data, \"</em>\")\n\t    // \tvar url = newwindow.location.href\n\t    // \t// console.error(\"Popup location is \", url, newwindow.location)\n      //   resolve(url)\n\t\t\t// })\n\n  \t\twindow.popupCompleted = function() {\n\t    \tvar url = newwindow.location.href\n        resolve(url)\n\t\t\t}\n\n\t\t\tvar newwindow = window.open(this.url, 'jso-popup-auth', 'height=600,width=800')\n      if (newwindow === null) {\n        throw new Error(\"Error loading popup window\")\n      }\n\t\t\tif (window.focus) {\n\t\t\t\tnewwindow.focus()\n\t\t\t}\n\n\t\t})\n\t}\n}\n","\nexport default class Error {\n\tconstructor(props) {\n\t\tfor(var key in props) {\n\t\t\tthis[key] = props[key];\n\t\t}\n\t}\n\n\tset(key, value) {\n\t\tthis[key] = value;\n\t\treturn this;\n\t}\n}","import Error from './Error';\n\nexport default class ExpiredTokenError extends Error {\n\n}","import Error from './Error'\n\nexport default class OAuthResponseError extends Error {\n\n  toString() {\n    let header = this.error || 'unknown'\n    let descr = this.error_description ||'unknown'\n    return 'OAuthResponseError: [' + header + ']: ' + descr\n  }\n}\n","import utils from './utils'\n\nclass Store {\n\n\tconstructor() {\n\t}\n\n\t/*\n\t\tsaveState stores an object with an Identifier.\n\t\tTODO: Ensure that both localstorage and JSON encoding has fallbacks for ancient browsers.\n\t\tIn the state object, we put the request object, plus these parameters:\n\t\t  * restoreHash\n\t\t  * connector_name\n\t\t  * scopes\n\n\t */\n\tsaveState(state, obj) {\n\t\tlocalStorage.setItem(\"state-\" + state, JSON.stringify(obj))\n\t}\n\n\t/**\n\t * getStage()  returns the state object, but also removes it.\n\t * @type {Object}\n\t */\n\tgetState(state) {\n\t\t// log(\"getState (\" + state+ \")\");\n\t\tvar obj = JSON.parse(localStorage.getItem(\"state-\" + state))\n\t\tlocalStorage.removeItem(\"state-\" + state)\n\t\treturn obj\n\t}\n\n\n\t/*\n\t * Checks if a token, has includes a specific scope.\n\t * If token has no scope at all, false is returned.\n\t */\n\thasScope(token, scope) {\n\t\tvar i\n\t\tif (!token.scopes) return false\n\t\tfor(i = 0; i < token.scopes.length; i++) {\n\t\t\tif (token.scopes[i] === scope) return true\n\t\t}\n\t\treturn false\n\t}\n\n\t/*\n\t * Takes an array of tokens, and removes the ones that\n\t * are expired, and the ones that do not meet a scopes requirement.\n\t */\n\tfilterTokens(tokens, scopes) {\n\t\tvar i, j,\n\t\t\tresult = [],\n\t\t\tnow = utils.epoch(),\n\t\t\tusethis\n\n\t\tif (!scopes) scopes = []\n\n\t\tfor(i = 0; i < tokens.length; i++) {\n\t\t\tusethis = true\n\n\t\t\t// Filter out expired tokens. Tokens that is expired in 1 second from now.\n\t\t\tif (tokens[i].expires && tokens[i].expires < (now+1)) usethis = false\n\n\t\t\t// Filter out this token if not all scope requirements are met\n\t\t\tfor(j = 0; j < scopes.length; j++) {\n\t\t\t\tif (!this.hasScope(tokens[i], scopes[j])) usethis = false\n\t\t\t}\n\n\t\t\tif (usethis) result.push(tokens[i])\n\t\t}\n\t\treturn result\n\t}\n\n\n\t/*\n\t * saveTokens() stores a list of tokens for a provider.\n\n\t\tUsually the tokens stored are a plain Access token plus:\n\t\t  * expires : time that the token expires\n\t\t  * connector_name: the provider of the access token?\n\t\t  * scopes: an array with the scopes (not string)\n\t */\n\tsaveTokens(provider, tokens) {\n\t\t// log(\"Save Tokens (\" + provider+ \")\");\n\t\tlocalStorage.setItem(\"tokens-\" + provider, JSON.stringify(tokens))\n\t}\n\n\tgetTokens(provider) {\n\t\t// log(\"Get Tokens (\" + provider+ \")\");\n\t\tvar tokens = JSON.parse(localStorage.getItem(\"tokens-\" + provider))\n\t\tif (!tokens) tokens = []\n\n\t\tutils.log(\"Token found when loooking up provider \" + provider + \" in store \" + window.location.href, tokens)\n\t\treturn tokens\n\t}\n\n\twipeTokens(provider) {\n\t\tlocalStorage.removeItem(\"tokens-\" + provider)\n\t}\n\n\t/*\n\t * Save a single token for a provider.\n\t * This also cleans up expired tokens for the same provider.\n\t */\n\tsaveToken(provider, token) {\n\t\tvar tokens = this.getTokens(provider)\n\t\ttokens = this.filterTokens(tokens)\n\t\ttokens.push(token)\n\t\tthis.saveTokens(provider, tokens)\n\t}\n\n\t/*\n\t * Get a token if exists for a provider with a set of scopes.\n\t * The scopes parameter is OPTIONAL.\n\t */\n\tgetToken(provider, scopes) {\n\t\tvar tokens = this.getTokens(provider)\n\t\ttokens = this.filterTokens(tokens, scopes)\n\t\tif (tokens.length < 1) return null\n\t\treturn tokens[0]\n\t};\n\n}\n\nvar s = new Store()\n\nexport default s\n","let utils = {}\n\n/*\n * Returns epoch, seconds since 1970.\n * Used for calculation of expire times.\n */\nutils.epoch = function() {\n\treturn Math.round(new Date().getTime()/1000.0)\n}\n\nutils.debug = false\n\n/*\n * Returns a random string used for state\n */\nutils.uuid = function() {\n\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n\t\tvar r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8)\n\t    return v.toString(16)\n\t})\n}\n\n/*\n * Takes a full url as input and expect it to have an encoded response\n * object as eigther a query string or an encoded fragment.\n * Returns the decoded object, or throws an error if no query string or fragment.\n */\nutils.getResponseFromURL = function (url) {\n  if (url.indexOf('#') !== -1) {\n    return utils.parseQueryString(url.substring(url.indexOf('#')+1))\n  } else if (url.indexOf('?') !== -1) {\n    return utils.parseQueryString(url.substring(url.indexOf('?')+1))\n  }\n  return {}\n}\n\nutils.parseQueryString = function (qs) {\n\tvar e,\n\t\ta = /\\+/g,  // Regex for replacing addition symbol with a space\n\t\tr = /([^&;=]+)=?([^&;]*)/g,\n\t\td = function (s) { return decodeURIComponent(s.replace(a, \" \")) },\n\t\tq = qs,\n\t\turlParams = {}\n\n\t/* jshint ignore:start */\n\twhile (e = r.exec(q)) {\n\t   urlParams[d(e[1])] = d(e[2])\n\t};\n\t/* jshint ignore:end */\n\n\treturn urlParams\n}\n\n\n\n\n\n/**\n * Utility: scopeList(scopes )\n * Takes a list of scopes that might be overlapping, and removed duplicates,\n * then concatenates the list by spaces and returns a string.\n *\n * @param  {[type]} scopes [description]\n * @return {[type]}        [description]\n */\nutils.scopeList = function(scopes) {\n\treturn utils.uniqueList(scopes).join(' ')\n}\n\n\nutils.uniqueList = function(items) {\n\tvar uniqueItems = {}\n\tvar resultItems = []\n\tfor(var i = 0; i < items.length; i++) {\n\t\tuniqueItems[items[i]] = 1\n\t}\n\tfor(var key in uniqueItems) {\n\t\tif (uniqueItems.hasOwnProperty(key)) {\n\t\t\tresultItems.push(key)\n\t\t}\n\t}\n\treturn resultItems\n}\n\n\n\n/**\n * A log wrapper, that only logs if logging is turned on in the config\n * @param  {string} msg Log message\n */\nutils.log = function(msg) {\n\tif (!console) return\n\tif (!console.log) return\n  if (!utils.debug) return\n\n  let args = Array.prototype.slice.call(arguments)\n  args.unshift('[JSO]')\n\tconsole.log.apply(console, args)\n\n}\n\nutils.encodeQS = function(params) {\n  let res = ''\n\tvar k, i = 0\n\tfor(k in params) {\n\t\tres += (i++ === 0 ? '' : '&') + encodeURIComponent(k) + '=' + encodeURIComponent(params[k])\n\t}\n\treturn res\n}\n\n/*\n * Takes an URL as input and a params object.\n * Each property in the params is added to the url as query string parameters\n */\nutils.encodeURL = function(url, params) {\n\tvar res = url\n\tvar k, i = 0\n\tvar firstSeparator = (url.indexOf(\"?\") === -1) ? '?' : '&'\n\tfor(k in params) {\n\t\tres += (i++ === 0 ? firstSeparator : '&') + encodeURIComponent(k) + '=' + encodeURIComponent(params[k])\n\t}\n\treturn res\n}\n\n\nutils.sha256Hash = function (str) {\n\treturn window.crypto.subtle.digest(\"SHA-256\", new TextEncoder().encode(str));\n}\n\n// Base64 encode\nutils.encode64 = function (buff) {\n\treturn btoa(new Uint8Array(buff).reduce((s, b) => s + String.fromCharCode(b), ''));\n}\n\n/* \n * Base64 url safe encoding of an array\n */\nutils.base64UrlSafeEncode = function(buf) {\n\tconst s = utils.encode64(buf).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=/g, \"\")\n\treturn s\n}\n\n\n/* Calc code verifier if necessary\n */\nutils.getCodeChallenge = function(code_verifier) {\n\treturn utils.sha256Hash(code_verifier).then (\n\t\t(hashed) => { \n\t\t\treturn utils.base64UrlSafeEncode(hashed)\n\t}\n\t).catch(\n\t\t(error) => { utils.log(error) }\n\t).finally(\n\t\t() => { return null }\n\t)\n}\n\nexport default utils\n","require('../../modules/es.object.assign');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.assign;\n","var parent = require('../../es/object/assign');\n\nmodule.exports = parent;\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","module.exports = {};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = false;\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator);\n      throw error;\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","module.exports = {};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_WEBOS_WEBKIT = require('../internals/engine-is-webos-webkit');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // eslint-disable-next-line es/no-symbol -- required for testing\n  return !Symbol.sham &&\n    // Chrome 38 Symbol has incorrect toString conversion\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    (IS_NODE ? V8_VERSION === 38 : V8_VERSION > 37 && V8_VERSION < 41);\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\n// eslint-disable-next-line es/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es/no-symbol -- safe\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject -- old IE */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.10.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar create = require('../internals/object-create');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar iterate = require('../internals/iterate');\n\nvar $AggregateError = function AggregateError(errors, message) {\n  var that = this;\n  if (!(that instanceof $AggregateError)) return new $AggregateError(errors, message);\n  if (setPrototypeOf) {\n    // eslint-disable-next-line unicorn/error-message -- expected\n    that = setPrototypeOf(new Error(undefined), getPrototypeOf(that));\n  }\n  if (message !== undefined) createNonEnumerableProperty(that, 'message', String(message));\n  var errorsArray = [];\n  iterate(errors, errorsArray.push, { that: errorsArray });\n  createNonEnumerableProperty(that, 'errors', errorsArray);\n  return that;\n};\n\n$AggregateError.prototype = create(Error.prototype, {\n  constructor: createPropertyDescriptor(5, $AggregateError),\n  message: createPropertyDescriptor(5, ''),\n  name: createPropertyDescriptor(5, 'AggregateError')\n});\n\n// `AggregateError` constructor\n// https://tc39.es/ecma262/#sec-aggregate-error-constructor\n$({ global: true }, {\n  AggregateError: $AggregateError\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es/no-object-assign -- required for testing\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\n\n// `Promise.allSettled` method\n// https://tc39.es/ecma262/#sec-promise.allsettled\n$({ target: 'Promise', stat: true }, {\n  allSettled: function allSettled(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'fulfilled', value: value };\n          --remaining || resolve(values);\n        }, function (error) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'rejected', reason: error };\n          --remaining || resolve(values);\n        });\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar getBuiltIn = require('../internals/get-built-in');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\n\nvar PROMISE_ANY_ERROR = 'No one promise resolved';\n\n// `Promise.any` method\n// https://tc39.es/ecma262/#sec-promise.any\n$({ target: 'Promise', stat: true }, {\n  any: function any(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aFunction(C.resolve);\n      var errors = [];\n      var counter = 0;\n      var remaining = 1;\n      var alreadyResolved = false;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyRejected = false;\n        errors.push(undefined);\n        remaining++;\n        promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyRejected || alreadyResolved) return;\n          alreadyResolved = true;\n          resolve(value);\n        }, function (error) {\n          if (alreadyRejected || alreadyResolved) return;\n          alreadyRejected = true;\n          errors[index] = error;\n          --remaining || reject(new (getBuiltIn('AggregateError'))(errors, PROMISE_ANY_ERROR));\n        });\n      });\n      --remaining || reject(new (getBuiltIn('AggregateError'))(errors, PROMISE_ANY_ERROR));\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == 'function';\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && !NATIVE_REJECTION_EVENT) return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars -- required for `.length`\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","// TODO: Remove from `core-js@4`\nrequire('./es.aggregate-error');\n","// TODO: Remove from `core-js@4`\nrequire('./es.promise.all-settled.js');\n","// TODO: Remove from `core-js@4`\nrequire('./es.promise.any');\n","'use strict';\nvar $ = require('../internals/export');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\n\n// `Promise.try` method\n// https://github.com/tc39/proposal-promise-try\n$({ target: 'Promise', stat: true }, {\n  'try': function (callbackfn) {\n    var promiseCapability = newPromiseCapabilityModule.f(this);\n    var result = perform(callbackfn);\n    (result.error ? promiseCapability.reject : promiseCapability.resolve)(result.value);\n    return promiseCapability.promise;\n  }\n});\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * JSO - Javascript OAuth Library\n * \tVersion 4.0\n *  UNINETT AS - http://uninett.no\n *  Author: Andreas kre Solberg <andreas.solberg@uninett.no>\n *  Licence: Simplified BSD Licence\n *\n *  Documentation available at: https://github.com/andreassolberg/jso\n */\n\n\n// Polyfills to support >= IE10\nimport assign from 'core-js/features/object/assign'\nimport 'core-js/features/array/includes'\nimport 'core-js/features/promise'\n// ------\n\nimport store from './store'\nimport utils from './utils'\n\n// Work in progress\n// import Authentication from './Authentication/Authentication'\n\nimport BasicLoader from './Loaders/BasicLoader'\nimport HTTPRedirect from './Loaders/HTTPRedirect'\nimport IFramePassive from './Loaders/IFramePassive'\nimport IFrameActive from './Loaders/IFrameActive'\nimport Popup from './Loaders/Popup'\n\nimport Fetcher from './HTTP/Fetcher'\nimport FetcherJQuery from './HTTP/FetcherJQuery'\n\n// import ExpiredTokenError from './errors/ExpiredTokenError'\n// import HTTPError from './errors/HTTPError'\nimport OAuthResponseError from './errors/OAuthResponseError'\n\nimport Config from './Config'\nimport EventEmitter from './EventEmitter'\n\nconst package_json = require('../package.json')\n\nconst default_config = {\n 'lifetime': 3600\n}\n\nclass JSO extends EventEmitter {\n\tconstructor(config) {\n    super()\n\t\tthis.configure(config)\n\t\tthis.connector_name = this.getconnector_name()\n\t\tthis.Loader = HTTPRedirect\n    this.store = store\n\t\tthis.callbacks = {}\n\n    if (this.config.getValue('debug', false)) {\n      utils.debug = true\n    }\n\t}\n\n\tconfigure(config) {\n\t\tthis.config = new Config(default_config, config)\n\t}\n\n  // Experimental, nothing but default store exists yet. Not documented.\n  setStore(newstore) {\n    this.store = newstore\n  }\n\n\tsetLoader(loader) {\n\t\tif (typeof loader === \"function\") {\n\t\t\tthis.Loader = loader\n\t\t} else {\n\t\t\tthrow new Error(\"loader MUST be an instance of the JSO BasicLoader\")\n\t\t}\n\t}\n\n\n\n\t/**\n\t * We need to get an identifier to represent this OAuth provider.\n\t * The JSO construction option connector_name is preferred, if not provided\n\t * we construct a concatentaion of authorization url and client_id.\n\t * @return {[type]} [description]\n\t */\n\tgetconnector_name() {\n\n\t\tvar c = this.config.getValue('connector_name', null)\n\t\tif (c !== null) {return c}\n\n\t\tvar client_id = this.config.getValue('client_id', null, true)\n\t\tvar authorization = this.config.getValue('authorization', null, true)\n\n\t\treturn authorization + '|' + client_id\n\t}\n\n\t/**\n\t * If the callback has already successfully parsed a token response, call this.\n\t * @return {[type]} [description]\n\t */\n\tprocessTokenResponse(atoken) {\n\t\tlet state\n\t\tif (atoken.state) {\n\t\t\tstate = this.store.getState(atoken.state)\n\t\t} else {\n\t\t\tthrow new Error(\"Could not get state from storage.\")\n\t\t}\n\n\t\tif (!state) {\n\t\t\tthrow new Error(\"Could not retrieve state\")\n\t\t}\n\t\tif (!state.connector_name) {\n\t\t\tthrow new Error(\"Could not get connector_name from state\")\n\t\t}\n\t\tutils.log(\"processTokenResponse \", atoken, \"\")\n    return this.processReceivedToken(atoken, state)\n\t}\n\n  processReceivedToken(atoken, state) {\n    /*\n\t\t * Decide when this token should expire.\n\t\t * Priority fallback:\n\t\t * 1. Access token expires_in\n\t\t * 2. Life time in config (may be false = permanent...)\n\t\t * 3. Specific permanent scope.\n\t\t * 4. Default library lifetime:\n\t\t */\n\t\tlet now = utils.epoch()\n    atoken.received = now\n\t\tif (atoken.expires_in) {\n\t\t\tatoken.expires = now + parseInt(atoken.expires_in, 10)\n      atoken.expires_in = parseInt(atoken.expires_in, 10)\n\t\t} else if (this.config.getValue('default_lifetime', null) === false) {\n\t\t\tatoken.expires = null\n\t\t} else if (this.config.has('permanent_scope')) {\n\t\t\tif (!this.store.hasScope(atoken, this.config.getValue('permanent_scope'))) {\n\t\t\t\tatoken.expires = null\n\t\t\t}\n\t\t} else if (this.config.has('default_lifetime')) {\n\t\t\tatoken.expires = now + this.config.getValue('default_lifetime')\n\t\t} else {\n\t\t\tatoken.expires = now + 3600\n\t\t}\n\n\t\t/*\n\t\t * Handle scopes for this token\n\t\t */\n\t\tif (atoken.scope) {\n\t\t\tatoken.scopes = atoken.scope.split(\" \")\n      delete atoken.scope\n\t\t} else if (state.scopes) {\n\t\t\tatoken.scopes = state.scopes\n\t\t} else {\n\t\t\tatoken.scopes = []\n\t\t}\n\n    utils.log(\"processTokenResponse completed \", atoken, \"\")\n\n\t\tthis.store.saveToken(state.connector_name, atoken)\n\n\t\tif (state.restoreHash) {\n\t\t\twindow.location.hash = state.restoreHash\n\t\t} else {\n\t\t\twindow.location.hash = ''\n\t\t}\n\t\treturn atoken\n  }\n\n  // Experimental support for authorization code to be added\n  processAuthorizationCodeResponse(object) {\n    console.log(this)\n    this.emit('authorizationCode', object)\n\n\n\t\tlet state\n\t\tif (object.state) {\n\t\t\tstate = this.store.getState(object.state)\n      if (state === null) {\n        throw new Error(\"Could not find retrieve state object.\")\n      }\n\t\t} else {\n\t\t\tthrow new Error(\"Could not find state paramter from callback.\")\n\t\t}\n    console.log(\"state\", state)\n\n    if (!this.config.has('token')) {\n      utils.log(\"Received an authorization code. Will not process it as the config option [token] endpoint is not set. If you would like to process the code yourself, please subscribe to the [authorizationCode] event\")\n      return\n\t}\n\t\n\tlet headers = new Headers()\n\t// Public client registration will not include a client_secret\n\tif( this.config.has('client_secret') ) {\n    \theaders.append('Authorization', 'Basic ' + btoa(this.config.getValue('client_id') + \":\" + this.config.getValue('client_secret')))\n\t}\n    headers.append('Content-Type', 'application/x-www-form-urlencoded;charset=UTF-8')\n\n    let tokenRequest = {\n      'grant_type': 'authorization_code',\n\t\t\t'client_id': this.config.getValue('client_id'),\n\t\t\t'code': object.code\n\t}\n\t\n\tif( this.config.getValue('use_pkce', false ) ) {\n\t\t// Also include the original created code_verifier\n\t\ttokenRequest.code_verifier = state.code_verifier\n\t}\n\n    if (state.hasOwnProperty('redirect_uri')) {\n      tokenRequest.redirect_uri = state.redirect_uri\n    }\n\n    let opts = {\n      mode: 'cors',\n      headers: headers,\n      method: 'POST', // or 'PUT'\n      body: utils.encodeQS(tokenRequest), // data can be `string` or {object}!\n    }\n    return fetch(this.config.getValue('token'), opts)\n      .then((httpResponse) => {\n        return httpResponse.json()\n      })\n      .then((tokenResponse) => {\n        // let tokenResponse = httpResponse.json()\n        utils.log(\"Received response on token endpoint \", tokenResponse, \"\")\n        return this.processReceivedToken(tokenResponse, state)\n      })\n\n    // throw new Exception(\"Implementation of authorization code flow is not yet implemented. Instead use the implicit grant flow\")\n\n  }\n\n\n\n\tprocessErrorResponse(err) {\n\n\t\tvar state\n\t\tif (err.state) {\n\n\t\t\tstate = this.store.getState(err.state)\n\t\t} else {\n\t\t\tthrow new Error(\"Could not get [state] and no default connector_name is provided.\")\n\t\t}\n\n\t\tif (!state) {\n\t\t\tthrow new Error(\"Could not retrieve state\")\n\t\t}\n\t\tif (!state.connector_name) {\n\t\t\tthrow new Error(\"Could not get connector_name from state\")\n\t\t}\n\n\t\tif (state.restoreHash) {\n\t\t\twindow.location.hash = state.restoreHash\n\t\t} else {\n\t\t\twindow.location.hash = ''\n\t\t}\n\t\treturn new OAuthResponseError(err)\n\n\t}\n\n\n\t/**\n\t * Check if the hash contains an access token.\n\t * And if it do, extract the state, compare with\n\t * config, and store the access token for later use.\n\t *\n\t * The url parameter is optional. Used with phonegap and\n\t * childbrowser when the jso context is not receiving the response,\n\t * instead the response is received on a child browser.\n\t */\n\tcallback(data) {\n\n    let response = null\n    if (typeof data === 'object') {\n      response = data\n    } else if (typeof data === 'string') {\n      response = utils.getResponseFromURL(data)\n    } else if (typeof data === 'undefined') {\n      response = utils.getResponseFromURL(window.location.href)\n    } else {\n      // no response provided.\n      return\n    }\n\n    utils.log('Receving response in callback', response)\n\n\t\tif (response.hasOwnProperty(\"access_token\")) {\n\t\t\treturn this.processTokenResponse(response)\n\n    // Implementation of authorization code flow is in beta.\n\t\t} else if (response.hasOwnProperty(\"code\")) {\n      return this.processAuthorizationCodeResponse(response)\n\n\t\t} else if (response.hasOwnProperty(\"error\")) {\n\t\t\tthrow this.processErrorResponse(response)\n\t\t}\n\n\t}\n\n\n\tdump() {\n\t\tvar tokens = this.store.getTokens(this.connector_name)\n\t\tvar x = {\n\t\t\t\"connector_name\": this.connector_name,\n\t\t\t\"tokens\": tokens,\n\t\t\t\"config\": this.config\n\t\t}\n\t\treturn x\n\t}\n\n\t_getRequestScopes(opts) {\n\t\tvar scopes = [], i\n\t\t/*\n\t\t * Calculate which scopes to request, based upon provider config and request config.\n\t\t */\n\t\tif (this.config.has('scopes.request')) {\n      let s = this.config.getValue('scopes.request')\n\t\t\tfor(i = 0; i < s.length; i++) {\n        scopes.push(s[i])\n      }\n\t\t}\n\t\tif (opts && opts.scopes && opts.scopes.request) {\n\t\t\tfor(i = 0; i < opts.scopes.request.length; i++) {scopes.push(opts.scopes.request[i])}\n\t\t}\n\t\treturn utils.uniqueList(scopes)\n\t}\n\n\t_getRequiredScopes(opts) {\n\t\tvar scopes = [], i\n\t\t/*\n\t\t * Calculate which scopes to request, based upon provider config and request config.\n\t\t */\n\t\tif (this.config.has('scopes.require')) {\n      let s = this.config.getValue('scopes.require')\n      for(i = 0; i < s.length; i++) {\n        scopes.push(s[i])\n      }\n\t\t}\n\t\tif (opts && opts.scopes && opts.scopes.require) {\n\t\t\tfor(i = 0; i < opts.scopes.require.length; i++) {scopes.push(opts.scopes.require[i])}\n\t\t}\n\t\treturn utils.uniqueList(scopes)\n\t}\n\n\n\t/**\n\t * If getToken is called with allowia = false, and a token is not cached, it will return null.\n\t * The scopes.required is used to pick from existing tokens.\n\t *\n\t * @param  {[type]} opts [description]\n\t * @return {[type]}      [description]\n\t */\n\tgetToken(opts) {\n    opts = opts || {}\n\n    return new Promise((resolve, reject) => {\n\n      let scopesRequire = this._getRequiredScopes(opts)\n\t\t\tlet token = this.store.getToken(this.connector_name, scopesRequire)\n\n\t\t\tif (token) {\n\t\t\t\treturn resolve(token)\n\n\t\t\t} else {\n\n\t\t\t\tif (opts.hasOwnProperty(\"allowredir\") && !opts.allowredir) {\n\t\t\t\t\tthrow new Error(\"Cannot obtain a token, when not allowed to redirect...\")\n\n\t\t\t\t} else {\n\t\t\t\t\tresolve(this._authorize(opts))\n\t\t\t\t}\n\t\t\t}\n    })\n\n\t}\n\n\tcheckToken(opts) {\n\t\t// var scopesRequest  = this._getRequestScopes(opts)\n\n\t\tvar scopesRequire = this._getRequiredScopes(opts)\n\t\treturn this.store.getToken(this.connector_name, scopesRequire)\n\t}\n\n\t/*\n\t * 2nd portion of authorize method.  Was put into its own method to cope with an optional async path that happens when\n\t *  use_pkce is specified\n\t */\n\t_authorize2(opts, request, code_verifier, scopes) {\n\t\n\t\tlet authorization = this.config.getValue('authorization', null, true)\n\n\t\tutils.log(\"Debug Authentication request object\", JSON.stringify(request, undefined, 2))\n\n\t\tvar authurl = utils.encodeURL(authorization, request)\n\n\t\t// After authurl has been established, some other state is stored within the request object which is persisted\n\t\t// Keep generated code_verifier around as we need to send it with the code challenge to retrieve token\n\t\tlet bUsePKCE = this.config.getValue('use_pkce', false);\n\t\tif( bUsePKCE ) {\n\t\t\trequest.code_verifier = code_verifier;\n\t\t}\n\n\t\t// We'd like to cache the hash for not loosing Application state.\n\t\t// With the implciit grant flow, the hash will be replaced with the access\n\t\t// token when we return after authorization.\n\t\tif (window.location.hash) {\n\t\t\trequest.restoreHash = window.location.hash\n\t\t}\n\t\trequest.connector_name = this.connector_name\n\t\t// If there were specific scopes established, save within state\n\t\tif (scopes) {\n\t\t\trequest.scopes = scopes\n\t\t}\n\n\t\tutils.log(\"Saving state [\" + request.state + \"]\")\n\t\tutils.log(JSON.parse(JSON.stringify(request)))\n\n\t\tvar loader = this.Loader\n\t\tif (opts.hasOwnProperty(\"loader\")) {\n\t\t\tloader = opts.loader\n\t\t}\n\n\t\tutils.log(\"Looking for loader\", opts, loader)\n\n\t\tthis.store.saveState(request.state, request)\n\t\treturn this.gotoAuthorizeURL(authurl, loader)\n\t\t\t.then((response) => {\n\t  \t\t\tif (response !== true) {\n\t\t\t\t\treturn this.callback(response)\n\t  \t\t\t}\n\t\t\t})\n\n\t}\n\n\t/**\n\t * Send authorization request.\n\t *\n\t * @param  {[type]} opts These options matches the ones sent in the \"oauth\" property of the ajax settings in the request.\n\t * @return {[type]}      [description]\n\t */\n\t_authorize(opts) {\n\t\tvar\n\t\t\trequest,\n\t\t\tscopes\n\n\t\treturn Promise.resolve().then(() => {\n\n\t\t\tlet authorization = this.config.getValue('authorization', null, true)\n\t\t\tlet client_id = this.config.getValue('client_id', null, true)\n      let openid = false\n\n      if (opts.hasOwnProperty('allowia') ||this.config.has('allowia')) {\n        throw new Error('The allowia option was removed in JSO 4.1.0. Instead use {request: {prompt: \"none\"}}')\n      }\n\n\t\t\tutils.log(\"About to send an authorization request to this endpoint\", authorization)\n\t\t\tutils.log(\"Options\", opts)\n\n\t\t\trequest = {}\n\n      if (this.config.has('request')) {\n        let r = this.config.getValue('request')\n        request = assign(request, r)\n      }\n      if (opts.hasOwnProperty('request')) {\n        request = assign(request, opts.request)\n      }\n\n\n      request.response_type = opts.response_type ||this.config.getValue('response_type', 'id_token token')\n      request.state = utils.uuid()\n\n\t\t\tif (this.config.has('redirect_uri')) {\n\t\t\t\trequest.redirect_uri = this.config.getValue('redirect_uri', '')\n\t\t\t}\n\t\t\tif (opts.redirect_uri) {\n\t\t\t\trequest.redirect_uri = opts.redirect_uri\n\t\t\t}\n\n\t\t\trequest.client_id = client_id\n\n\n\t\t\t/*\n\t\t\t * Calculate which scopes to request, based upon provider config and request config.\n\t\t\t */\n\t\t\tscopes = this._getRequestScopes(opts)\n      openid = scopes.includes('openid')\n\t\t\tif (scopes.length > 0) {\n\t\t\t\trequest.scope = utils.scopeList(scopes)\n\t\t\t}\n      utils.log(\"Running in mode: \" + (openid ? 'OpenID Connect mode' : 'OAuth mode'))\n\n      if (openid && !request.hasOwnProperty('redirect_uri')) {\n        throw new Error('An OpenID Request requires a redirect_uri to be set. Please add to configuration. A redirect_uri is not required for plain OAuth')\n      }\n\n      if (openid) {\n        request.nonce = utils.uuid()\n\t  }\n\t  \n\t\t// If pkce is being utilized, create random code_verifier and create challenge\n\t\tlet cv = null;\n\t\tlet bUsePKCE = this.config.getValue('use_pkce', false);\n\t  \tif( bUsePKCE ) {\n\t\t  \tif( !window.crypto ) {\n\t\t\t  \tthrow new Error('Browser crypto APIs are not available')\n\t\t\t}\n\t\t\t\n\t\t\t// RFC 7636 says the random string should be between 43 and 128 chars\n\t\t\t// Use 64 char buf for now\n\t\t\tvar buf = new Uint8Array(64)\n\t\t\twindow.crypto.getRandomValues(buf)\n\t\t\tcv = utils.base64UrlSafeEncode(buf)\n\n\t\t\tutils.getCodeChallenge(cv).then( cc => {\n\t\t\t\trequest.code_challenge = cc\n\t\t\t\t//Generate string sequence\n\t\t\t\trequest.code_challenge_method = \"S256\"\n\n\t\t\t\treturn this._authorize2(opts, request, cv, scopes);\n\t\t\t\t} \n\t\t\t)\n\t\t} else {\n\n\t\t\treturn this._authorize2(opts, request, cv, scopes);\n\t\t\t}\n\n\t\t})\n\n\t}\n\n\tgotoAuthorizeURL(url, Loader) {\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\tif (Loader !== null && typeof Loader === 'function') {\n\t\t\t\tvar loader = new Loader(url)\n\t\t\t\tif (!(loader instanceof BasicLoader)) {\n\t\t\t\t\tthrow new Error(\"JSO selected Loader is not an instance of BasicLoader.\")\n\t\t\t\t}\n\t\t\t\tresolve(loader.execute())\n\t\t\t} else {\n\t\t\t\treject(new Error('Cannot redirect to authorization endpoint because of missing redirect handler'))\n\t\t\t}\n\t\t})\n\t}\n\n\twipeTokens() {\n\t\tthis.store.wipeTokens(this.connector_name)\n\t}\n\n}\n\n// Object.assign(JSO.prototype, new EventEmitter({}))\n\nexport {JSO, BasicLoader, HTTPRedirect, Popup, IFramePassive, IFrameActive, Fetcher, FetcherJQuery}\n// Work in progress\n// Authentication\n"],"sourceRoot":""}